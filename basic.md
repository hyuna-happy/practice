SELECT * FROM EMP;
<hr/>
<h3>CREATE TABLE TABLENAME<br>
(COLUMN_NAME DATA_TYPE(LENGTH),...);</h3>
<hr/>
DROP TABLE EMP_DDL;

CREATE TABLE EMP_DDL(  
    EMPNO NUMBER(4),  
    ENAME VARCHAR2(10),  
    JOB VARCHAR2(9),  
    MGR NUMBER(4),  
    HIREDATE DATE,  
    SAL NUMBER(7,2),  
    COMM NUMBER(7,2),  
    DEPTNO NUMBER(2)  
);
  
DESC EMP_DDL;/*해당 내용 가져오기 DESC*/
<br><br>
DROP TABLE DEPT_DDL;

### *DEPT 테이블 내용을 복사, SELECT=조회
CREATE TABLE DEPT_DDL  
AS SELECT * FROM DEPT;

DESC DEPT_DDL;

DROP TABLE SALGRADE_DDL;

CREATE TABLE SALGRADE_DDL
AS SELECT * FROM SALGRADE;

DESC SALGRADE_DDL;
<hr>
ALTER TABLE <TABLE_NAME> <br>
* ADD <COLNAME> <DATATYPE>;-추가<br>
* DROP <COLNAME>;-삭제<br>
* MODIFY <COLNAME> DATATYPE;-내용 수정<br>
* RENAME COLUMN <OLD_COLNAME> TO <NEW_COLNAME>-원래 이름을 새로운 이름으로 변경<br><hr>


ALTER TABLE SALGRADE_DDL<br>
ADD PARTY VARCHAR2(20);

ALTER TABLE SALGRADE_DDL<br>

RENAME COLUMN PARTY TO HOME;<br>

ALTER TABLE SALGRADE_DDL<br>
MODIFY HOME NUMBER(10);
DESC SALGRADE_DDL;

ALTER TABLE SALGRADE_DDL<br>
DROP COLUMN HOME;
RENAME SALGRADE_DDL TO SALZIP;  
  
DESC SALZIP;  

SELECT * FROM SALZIP;

TRUNCATE TABLE SALZIP;  
DROP TABLE SALZIP;
<hr>
COMMENT 생성  
* COMMENT ON TABLE <TABLE_NAME> IS <COMMENT>;  
* COMMENT ON COLUMN <TABLE_NAME>.<COLNAME> IS <COMMENT>;
<hr>

COMMENT ON TABLE DEPT_DDL IS 'DDL연습테이블';       
COMMENT ON COLUMN DEPT_DDL.LOC IS '부서위치';  

SELECT * FROM USER_TAB_COMMENTS;  
SELECT * FROM USER_COL_COMMENTS WHERE TABLE_NAME='DEPT_DDL';
<hr>

CONSTRAINT  

* PRIMARY KEY
  >유일한 데이터 기본키 
* NOT NULL 
  > 현재 데이터를 입력하지 못한 경우
* UNIQUE
  >중복되는 값의 저장을 차단   
* FOREIGN KEY
  >두 테이블을 연결시켜주는 관계형 데이터베이스
* CHECK
  >입력할 수 있는 값의 범위를 제한
* DEFAULT
  >데이터 입력 시에 컬럼의 값이 지정되지 않은 경우 기본값을 설정할 수 있다.
<hr>

DROP TABLE PERSONS;  
DROP TABLE PER PERSONS2;  

CREATE TABLE PERSONS(
    ID VARCHAR2(4) PRIMARY KEY,  
    NAME VARCHAR2(20) NOT NULL UNIQUE,  
    AGE NUMBER(3) CHECK(AGE>=18),  
    TELNUM VARCHAR2(20),  
    ADDR VARCHAR2(100) DEFAULT 'SEOUL',  
    BDAY DATE DEFAULT SYSDATE  
);  

INSERT INTO PERSONS(ID,NAME,AGE,TELNUM)  
VALUES('1001','SCOTT',20,'01012344567');  

INSERT INTO PERSONS(ID,NAME,AGE,TELNUM)  
VALUES('SCOTT',20,'01012344567');  

CREATE TABLE PERSONS2(  
    ID VARCHAR2(4),  
    NAME VARCHAR2(20) NOT NULL,  
    AGE NUMBER(3),  
    TELNUM VARCHAR2(20),  
    ADDR VARCHAR2(100) DEFAULT 'SEOUL',  
    BDAY DATE DEFAULT SYSDATE,  
    CONSTRAINT PK_PERSON2 PRIMARY KEY(ID),  
    CONSTRAINT UN_PERSON2 UNIQUE(NAME),  
    CONSTRAINT CHK_PERSON2 CHECK(AGE>=18)  
);  
ALTER TABLE PERSONS2  
MODIFY ADDR DEFAULT 'PARIS';  

ALTER TABLE PERSONS2  
DROP CONSTRAINT CHK_PERSON2;

ALTER TABLE PERSONS2  
ADD CONSTRAINT CHK_P2 CHECK(AGE>50);  
 
DROP TABLE PLAYS;  
CREATE TABLE PLAYS(  
    PLAY_ID NUMBER(10) PRIMARY KEY,  
    PLAY_RESULT VARCHAR2(100),  
    PERSONS_ID VARCHAR2(4),   
    *연결된 데이터를 한번에 지운다. 원래는 개별 TABLE 이라 한번에 지울 수 없음  
    CONSTRAINT FK_PLAYS FOREIGN KEY(PERSONS_ID) REFERENCES PERSONS(ID) ON DELETE CASCADE); 
<hr>
ON DELETE SET NULL:부모 클래스를 지우면 자식 테이블에 있는 데이터를 NULL값으로 변경하겠다는 의미.
<hr>  

DROP TABLE PKTABLE;  
DROP TABLE FKTABLE;  
CREATE TABLE PKTABLE(  
    PKBAL VARCHAR2(10),  
    CONSTRAINT PK_KEY PRIMARY KEY(PKVAL)  
);  
CREATE TABLE FKTABLE(  
    PKVAL VARCHAR2(10),  
    FKVAL VARCHAR2(10)  
);  
ALTER TABLE FKTABLE  
ADD CONSTRAINT FK_KEY FOREIGN KEY(FKVAL)   
REFERENCES PKTABLE(PKVAL)  
ON DELETE CASCADE;
 
ALTER TABLE FKTABLE  
ADD CONSTRAINT FKT_PK_KEY PRIMARY KEY(PKVAL);  

INSERT INTO PKTABLE VALUES('PK1');  
INSERT INTO PKTABLE VALUES('PK2');  
INSERT INTO PKTABLE VALUES('PK3');  
SELECT * FROM PKTABLE;  

INSERT INTO FKTABLE VALUES('PK1-VAL1','PK1');  
INSERT INTO FKTABLE VALUES('PK1-VAL2','PK1');  
INSERT INTO FKTABLE VALUES('PK2-VAL1','PK2');  
INSERT INTO FKTABLE VALUES('PK2-VAL2','PK2');  
INSERT INTO FKTABLE VALUES('PK3-VAL1','PK3');  
INSERT INTO FKTABLE VALUES('PK3-VAL2','PK3');  
SELECT * FROM FKTABLE;  

DELETE FROM PKTABLE WHERE PKVAL='PK1';  
SELECT * FROM PKTABLE;  
SELECT * FROM FKTABLE;    

--Q1 EMP_HW TABLE 생성  
DROP TABLE EMP_HW;  
CREATE  TABLE EMP_HW(  
    EMPNO NUMBER(4),  
    ENAME VARCHAR2(10),  
    JOB VARCHAR2(9),  
    MGR NUMBER(4),  
    HIREDATE DATE,  
    DAL NUMBER(7,2),  
    COMM NUMBER(7,2),  
    DEPTNO NUMBER(2)  
);  

ALTER TABLE EMP_HW  
ADD CONSTRAINT HW_FK_DEPINO FOREIGN KEY(DEPTNO) REFERENCES DEPT(DEPTNO)  
/*CREATE TABLE 안에 적어줄때는 이 구문에서 ADD를 제외하고 적으면 같음*/  
ON DELETE CASCADE;  

ALTER TABLE EMP_HW  
ADD CONSTRAINT HW_PK_EMP PRIMARY KEY(EMPNO);  

--Q2 EMP_HW 컬럼 BIGO 추가 VARCHAR2(20)  
DESC EMP_HW;  
ALTER TABLE EMP_HW  
ADD BIGO VARCHAR2(20);  
--Q3 BIGO 컬럼의 타입을 VARCHAR2(40) 변경  
ALTER TABLE EMP_HW  
MODIFY BIGO VARCHAR2(40);  
--Q4 BIGO 컬럼의 이름을 REMARK로 변경  
ALTER TABLE EMP_HW  
RENAME COLUMN BIGO TO REMARK;  
--Q5 테이블 삭제  
DROP TABLE EMP_HW;  
